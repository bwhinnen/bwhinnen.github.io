<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Whinnen.COM - Out of date instructions = ARGH</title>
    <meta name="description" content="Upgrade instructions for Zarafa threw a curveball and meant more work was needed to upgrade.">
    <meta name="description" content="When instructions are out of date, more work is involved.">
    <meta name="description" content="Sometimes entertaining, sometimes mindless, mostly rambling shabiness by nerd Brett Whinnen."/>
    <meta name="author" content="Brett Whinnen"/>
    <meta name="copyright" content="&copy; Copyright 2010 to Present"/>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta property="twitter:account_id" content="36923861"/>
    <meta http-equiv="cleartype" content="on">
    <meta http-equiv="x-dns-prefetch-control" content="off">
    <link rel="alternate" type="application/rss+xml" title="Whinnen.COM Feed" href="/posts.xml"/>
    <link type="text/plain" rel="author" href="/humans.txt" />
    
    <link rel="stylesheet" href="/assets/primary.css" type="text/css"/>
    
    <link rel="shortcut icon" href="/favicon.ico"/>
    <!--[if lt IE 9]>
    <script src="/assets/html5shiv.js"></script>
    <![endif]-->
    <!--[if (lt IE 9) & (!IEMobile)]>
    <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
    <![endif]-->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    
    <script type="text/javascript" src="/assets/primary.js"></script>

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@bwhinnen">
    <meta name="twitter:creator" content="@bwhinnen">
    
    <meta name="twitter:url" content="http://whinnen.com/2012/10/out-of-date-instructions-argh.html">
    
    <meta name="twitter:title" content="Out of date instructions = ARGH">
    <meta name="twitter:description" content="That is correct people still have out of date instructions for upgrading things. Our website and email services are all hosted on a HyperVM based VPS ...">
    <!-- <meta name="twitter:image" content=""> -->
    
    <link rel="canonical" href="http://whinnen.com"/>
  </head>

  <body>
    <div id="fb-root" style="display:none;"></div>
    <div id="mastwrap">
      <nav>
        <ul id="left_nav" class="list-none">
          <li><a href="/" title="Home" class="home ir">Home</a></li>
        </ul>
      </nav>
      <header id="masthead" class="clearfix">
        <a href="/" class="ir stammy " title="Brett Whinnen"></a>
        <hgroup class="intro">
          <h2><span><center>Mostly the ramblings of a mad man!</center></span></h2>
          <nav id="cover">
            <ul id="headernav" class="list-none">
              <li><a href="/about.html" title="About" class="about"><i></i> <span>About</span></a></li>
              <li><a href="/posts.html" title="Posts" class="posts"><i></i> <span>Posts</span></a></li>
              <li><a href="/posts.xml" title="Subscribe via RSS Feed" class="rss"><i></i> <span>RSS Feed<span></a></li>
            </ul>
          </nav>
        </hgroup>
      </header>
   </div>
    <div id="progress-bar-container"></div>
    <div id="site" class="sep">

	<article id="postex" class="is-post" role="main">
  <header class="entry-title">
    <h1>Out of date instructions = ARGH</h1>
    <aside id="post-content" class="clearfix">
      <category id="category" class="small">
        <ul id="nav" class="list-none category">
          <li class="category">Posted in</li>
          
            <li class="category"><a href="/category/random/index.html" title="random" class="list-none">random</a></li>
          
        </ul>
      </category>
      <category id="category" class="float_right small">
        <ul id="nav" class="list-none category">
          <li class="category"><time datetime="2012-10-25 00:00:00 +1000">25 Oct 2012</time></li>
        </ul>
      </category>
    </aside>
    <h3>When instructions are out of date, more work is involved.</h3>
  </header>

  <p><section><p>That is correct people still have out of date instructions for upgrading things. Our website and email services are all hosted on a HyperVM based VPS, it is currently running Debian 5.0 and is restricted to a kernel version of 2.6.18, while on its own this is not a great drama it can be a little restrictive as the kernel and Debian version cannot be updated easily.</p></p>

<p>In my infinite wisdom, well in my defence it was required, I decided to update the mail server software (Zarafa) to the current version 7.1 from the 7.05 I was previously running. As always I do my due diligence of reading the release notes, update guide etc. Lucky for me I did and took a full backup of the mail database! Running through the notes it tells you to do certain steps at certain times, and of course being on Debian it uses dpkg to install the locally held packages you receive as part of the Zarafa distribution. Well this is usually all well and good, doing the installs and following the notes is generally not an issue, they have been in the past very good.</p>

<p>This time, they have split up certain functionality into other modules, one of which needs a new package to be installed which is NOT referenced in the upgrade guide anywhere. Of course me being me I googled it and found that I needed to add a certain source to my sources.list file. Well that was mistake number one! The source I added just happened to be the new Debian distribution "sid", I didn't realise this until WAY too late, after updating umpteen packages and suddenly finding that I needed to have a newer kernel installed to support libc6, oops!</p>

<p>So some quick investigation shows that I can get a new VPS with my current hosting company and it will support a) custom kernels, b) Debian 6.0 and future releases and c) it is faster, and more well appointed. The catch, it costs an extra $50 a year, big whoopie, and I have to migrate everything and set it back up. I go through the trouble of setting it up and use the same sources.list I used previously, with the exception of Debian 6.0 sources instead of Debian 5.0 sources, but of course I hadn't clicked that the "sid" source was a new distribution/version yet. So go through most of the setup and then realise that I've screwed the pooch. Start again, this time knowing what I've done wrong.</p>

<p>Now installing Zarafa 7.1 I find I still need that same package, but where will I get it? ... Oh come on, seriously, it was included in the distribution all along? So did I go through all this trouble for naught? Well yes and no. Yes because I did extra work I didn't need to do and spent money I really didn't need to, and things would have kept running away for a while. No because I did need to update to a later version of Debian as 5.0 is pretty much unsupported and I need to keep on top of security patches etc and of course the new VPS is quite speedy in comparison!</p></section>


  <section>
  <tag id="tag" class="clearfix">
    <div class="center_mod">
      <ul id="nav" class="list-none tag">
        
          <li><a href="/tag/Linux" title="Linux/index.html" class="list-none">Linux</a> </li>
        
          <li><a href="/tag/VPS" title="VPS/index.html" class="list-none">VPS</a> </li>
        
          <li><a href="/tag/Zarafa" title="Zarafa/index.html" class="list-none">Zarafa</a> </li>
        
      </ul>
    </div>
  </tag>
  </section>

  <section class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'whinnen'; // required: replace example with your forum shortname
      var disqus_url = "http://whinnen.com/2012/10/out-of-date-instructions-argh.html";

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </section>

</article>


    </div>
    <footer id="footer" class="clearfix">
      <div class="center_mod">
        <ul id="nav" class="list-none">
          <li><a href="/" title="Home">Home</a></li>
          <li><a href="/about.html" title="About">About</a></li>
          <li><a href="/posts.html".html title="Posts">Posts</a></li>
          <li><a href="/contact.html" class="email" title="Contact">Contact</a></li>
          <li><a href="/posts.xml" class="rss" title="Subscribe via RSS Feed">RSS</a></li>
          <li><a href="http://twitter.com/bwhinnen">@bwhinnen</a></li>
        </ul>
        <a href="#" class="back_up" title="Back to the top"><i></i></a>
      </div>
    </footer>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-42816585-1', 'whinnen.com');
      ga('send', 'pageview');
    </script>
  </body>
</html>
